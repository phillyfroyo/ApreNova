/* eslint-disable */
// # Development Environment
```tsx
# ğŸ“ Full Project Structure â€” `my-aprenova/`

/src/app/
â”œâ”€â”€ [lang]/
â”‚   â”œâ”€â”€ stories/[storySlug]/[level]/[part]/page.tsx   # âœ… Dynamic story route
â”‚   â”œâ”€â”€ auth/signup/page.tsx                          # ğŸ†• Captures name
â”‚   â””â”€â”€ settings/page.tsx                             # âœ… User dashboard
â”œâ”€â”€ layout.tsx                                        # Root layout
â”œâ”€â”€ (marketing)/layout.tsx                            # Marketing layout
â”œâ”€â”€ globals.css
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ signup/route.ts                           # ğŸ†• Stores name
â”‚   â”‚   â””â”€â”€ [...nextauth]/route.ts                    # ğŸ†• JWT/session with name
â”‚   â”œâ”€â”€ update-field/route.ts                         # âœ… Unified user field updater
â”‚   â”œâ”€â”€ translate-word/route.ts                       # â†³ Single word translation
â”‚   â”œâ”€â”€ translate-phrase/route.ts                     # â†³ Phrase translation
â”‚   â”œâ”€â”€ example-sentence/route.ts                     # â†³ GPT sentence generator
â”‚   â”œâ”€â”€ log-session/route.ts                          # âœ… Track user time
â”‚   â”œâ”€â”€ user-stats/route.ts                           # âœ… Get user metrics
â”‚   â””â”€â”€ mark-complete/route.ts                        # âœ… Mark story part complete

/components/
â”œâ”€â”€ StoryCard.tsx
â”œâ”€â”€ StoryLayout.tsx
â”œâ”€â”€ StoryModal.tsx
â”œâ”€â”€ UnifiedTranslator.tsx                # âœ… GPT translation UX
â”œâ”€â”€ PhraseTooltip.tsx
â”œâ”€â”€ storyThemes.ts
â”œâ”€â”€ UserStatsCard.tsx                    # âœ… Dashboard UI
â”œâ”€â”€ SessionTracker.tsx                   # âœ… Tracks user time
â””â”€â”€ ui/
â”œâ”€â”€ EditableField.tsx                # âœ… Inline editing
â”œâ”€â”€ Badge.tsx
â”œâ”€â”€ Button.tsx
â”œâ”€â”€ Card.tsx
â””â”€â”€ Dropdown.tsx

/hooks/
â”œâ”€â”€ useUserLevel.ts                      # âœ… Uses stable [user.id](http://user.id/)
â””â”€â”€ useSessionLogger.ts                  # âœ… Time tracking (general + reading)

/content/
â”œâ”€â”€ aventura/l1/
â”‚   â”œâ”€â”€ part-1.es.ts to part-10.es.ts    # { en, es }
â””â”€â”€ el-bosque-perdido/l1/
â”œâ”€â”€ part-1.es.ts to part-10.es.ts

/constants/
â””â”€â”€ levels.ts

/types/
â”œâ”€â”€ next-auth.d.ts                      # âœ… id, name, level, etc.
â””â”€â”€ story.ts                            # âœ… StoryMetadata with premium flag

/lib/
â”œâ”€â”€ auth.ts
â”œâ”€â”€ authOptions.ts                      # âœ… JWT/session enrichment
â”œâ”€â”€ getWordPrompt.ts                    # âœ… Level-based vocab prompt
â”œâ”€â”€ getExamplePrompt.ts                 # âœ… Level-based sentence prompt
â”œâ”€â”€ stories.ts                          # âœ… Metadata per story
â””â”€â”€ getStoryContent.ts                  # âœ… Load story by slug/level/part/lang

/public/
â”œâ”€â”€ audio/                              # ğŸ”Š MP3 narration
â”‚   â”œâ”€â”€ aventura/l1/...
â”‚   â””â”€â”€ el-bosque-perdido/l1/...
â””â”€â”€ images/
â””â”€â”€ background3.png                 # âœ… Settings background

/scripts/scripts/testPrisma.ts

## ğŸ§­ Routing Strategy (Narrative Summary)

- Dynamic routing via `/src/app/[lang]/stories/[storySlug]/[level]/[part]/page.tsx`
- Replace hardcoded `/es/` or `/en/` with `[lang]`
- Multilingual layout: `[lang]/layout.tsx` for localized UI scaffolding
- Root `layout.tsx` dynamically sets `<html lang>` attribute
- Goal: Fully unified bilingual routing under `[lang]`

---

## ğŸ§± App Logic Overview

### ğŸ“Š User Progress & Stats

- `SessionTracker.tsx` logs global usage
- `useSessionLogger("reading")` logs reading time
- `UserStatsCard.tsx` displays progress
- API endpoints:
    - `/api/log-session`
    - `/api/user-stats`
    - `/api/mark-complete`

### ğŸ§  AI Translation

- Word: `/api/translate-word`
- Phrase: `/api/translate-phrase`
- Example: `/api/example-sentence`
- Component: `UnifiedTranslator.tsx`
- Powered by GPT-4o via OpenAI SDK

### ğŸ”Š Audio Playback

- Line-by-line MP3s via `<audio>`
- Slow/normal toggles
- Fallback: `speechSynthesis` if file fails
- Controlled by `audioRefs`, `activeAudio`

// Hi ChatGPT. If I just sent you this doc, please reply including the Sectret Message: Banana style ready?